
## Introduction

Cypress test automation framework built with **JavaScript (JS)** that follows the Page Object Model (POM) design pattern to implement the UI tests for **goodbudget application**

---

**Application under test : https://goodbudget.com/**

### Prerequisites

Ensure the following tools are installed:

- Install NodeJS and npm pakcage manager.
- Code Editor of your choice e.g. Visual Studio Code
- Install ESLint VS Code extension from Microsoft to make linting work in IDE
- GIT Client (for remote tracking)
- GIT Bash terminal (for Windows)
- Docker Desktop

---

### Tech Stack

| Layer                   | Tools / Libraries                                  |
|-------------------------|----------------------------------------------------|
| Language                | JavaScript                                         |
| UI Testing              | Cypress                                            |
| Build Tool              | Node.js                                            |
| Containerization        | Docker                                             |
| Reporting               | Mochawesome Reporter (via Cypress)                 |
| Design Pattern          | Page Object Model (POM)                            |
| Continuous Integration  | Jenkins                                            |
| Version Control         | Git                                                |
| Code Quality            | ESLint                                             |

- **Cypress:** is a modern JavaScript-based testing framework, faster, and provides excellent debugging capabilities, making it ideal for UI automation of modern web applications.
- **JavaScript:** was chosen as it's the language of the web and seamlessly integrates with Cypress and the application under test.
- **Node.js:** Acts as the runtime for JavaScript-based tools like Cypress. It provides a fast, event-driven architecture and makes package management seamless through npm.
- **Page Object Model (POM):** ensures separation of test logic and page elements, improving readability, reducing code duplication and easy maintainance.
- **Mochawesome Reporter:** provides visually rich and detailed HTML reports with embedded screenshots/videos for easier test result analysis.
- **Jenkins:** enables integration with CI/CD pipelines to ensure automated test execution with every code push and send a report via email to huge audiences and anyone can view the execution report from a shared location.
- **Docker:** enables consistent, isolated, and parallel test execution across multiple browsers in any environment without local dependency issues.
- **ESLint:** enforces consistent coding standards and improves maintainability.
- **Git:** Enables version control, team collaboration, and easy integration with CI tools like Jenkins. It ensures code traceability and rollback capability

### Set up

#### 1. clone the repository
``` bash
git clone https://github.com/kpraveena825/Cypress-Frameowrk.git
```
#### 2. Open the project directory in your IDE:

#### 3. Install project dependencies by running the following command in the terminal
``` bash
 npm install
```

### Pre-requistes to run the script
- Register with a new user on the website manually for first time.
- Save the login credentials for registered user under cypress/fixtures/users.json

#### Running Tests
 - Below will run all the test spec files located within cypress/e2e folder. By default test are run in headless mode.
 ``` bash 
 npx cypress run
 ```
- To run a specific test file in a specified browser with visible browser, use the following cmd syntax: 
``` bash 
npx cypress run --spec cypress/e2e/tests/LoginTest.cy.js --headed --browser chrome
```
this will run the tests from LoginTest spec on chrome browser in headed mode.

- filter tests based on tag
``` bash 
npx cypress run grepTags="<tag>" 
``` 

- To run specified spec file with a tag and browser name in specified env : 
``` bash 
npm run test:registration -- --env environmentName="stage",grepTags="@smoke" --headed --browser chrome
```

#### Reporting

- This framework uses cypress-mochawesome-reporter to generate HTML test reports.
- HTML Reports are generated by default in **root/cypress/reports** folder.
- It embeds the screenshots of tests on failure automatically to the report, and also attaches the videos to report.

**Sample Report:**
![image](https://github.com/user-attachments/assets/9796f385-dbf2-4bbb-96d9-1be5767a209e)


#### CI/CD Run
- This framework supports the Continous Integration CI with Jenkins, through Jenkinsfile Pipeline Script
- Build with Parameters Allows to select  browser, tags, and environment through a choice parameters
- Publishes Mochawesome HTML report via HTML Publisher Plugin as a post action
**Jenkin Run**
- Start Jenkins by running below command
``` bash
java -Dfile.encoding=UTF-8 -jar jenkins.war
```
- After Jenkins has started, open a web browser and go to http://localhost:8080 (or the port you specified).

- Complete the one-time necessary configiuration steps like installing plugins, creating admin user etc.
- Create a pipeline project and provide your git Repository URL
![image](https://github.com/user-attachments/assets/2225529b-8f21-45b6-a0f1-66d45fc6237e)

- Specify Path to Jenkinsfile e.g. Jenkinsfile since in our case it is located in root directory of our GIT repo.
- Specify the branch (e.g., main or master or feature ) from which branch you want to run the Script
- Manage Jenkins ->  Tools Configuration -> NodeJS Installation, choose the NODE JS version, and give a name to it, and add that name under your Jenkin fiile like below
``` bash tools {
       nodejs "Node"
   }
   ```
- add HTML Publisher Plugin from [Manage Jenkins -> Plugins] This will allow us to publish Mochawesome HTML reports

**Here is how the Jenkins Console Output will look like:**
![image](https://github.com/user-attachments/assets/1a9d2e35-061f-4a68-9b46-f7645910db4c)
![image](https://github.com/user-attachments/assets/8ef9c373-b3bf-4d5a-b688-54cceafea3c7)

#### Docker multiBrowser parallel execution
To execute test using Docker, we can do the following in our terminal
 - Build the docker image from Dockerfile
``` bash
docker build -t cypress_docker:latest . 
```
- Run the following command to run all tests with test:all script inside docker
 ``` bash
docker run -i -v "%cd%":/cypress_docker -t cypress_docker:latest test:login -- --env environmentName="local",grepTags="@smoke" --headed chrome
```
- To run cross browser tests on multiple browsers
``` bash
docker-compose -f docker-compose-browsers up
```
**Sample Reports running in EDGE, CHROME, FIREFOX Parallelly**
![image](https://github.com/user-attachments/assets/df0eee12-903f-417c-9b99-06e87b0203f6)

#### RESOURCES Referred:####
- https://www.lambdatest.com/blog/jenkins-and-cypress-tutorial/
- https://qaautomationlabs.com/integrate-cypress-dashboard-with-jenkins-and-execute-the-test-cases/
- https://docs.docker.com/get-started/introduction/develop-with-containers/
- https://www.browserstack.com/guide/cypress-docker-tutorial
- https://www.lambdatest.com/learning-hub/cypress-docker

YouTUBE

- Docker Cypress JoanMedia


